name: build

on: [push]

jobs:
  # eslint:
  #   runs-on: ubuntu-latest

  #   steps:
  #   - uses: actions/checkout@master
  #   - name: yarn install
  #     run: yarn install
  #   - name: lint
  #     run: yarn run lint

  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - uses: actions/setup-node@v1
      with:
        node-version: '14.x'
        registry-url: registry.npmjs.org
    - run: yarn install
    - run: yarn generate
    - run: yarn push-dir --dir=./dist --branch=gh-pages --cleanup --allow-unclean
