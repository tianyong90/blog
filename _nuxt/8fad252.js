(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{271:function(n,t){n.exports={html:'<p>最近，当我把 vue-loader 升级到 v15 后发现，自己项目中所使用的一个 vue-markdown-loader 因为兼容问题而没法用了，正当我一筹莫展的时候，无意间看到 vuepress 中使用了当时还处于 v15.0.0 rc 版本的 vue-loader,仔细研究其源码后发现，vuepress 对于 markdown 的支持相当完善，而且代码也规范易懂。于是心生一计，把里面部分相关的代码拿出来魔改一番，做成一个新的 loader 用到自己的项目……</p>\n<h2 id="关于-webpack-loader"><a class="header-anchor" href="#关于-webpack-loader">#</a> 关于 webpack loader</h2>\n<p>为了干这个，首先得理解 webpack 的 loader 的功能和原理。</p>\n<blockquote>\n<p>loader 用于对模块的源代码进行转换。loader 可以使你在 import 或&quot;加载&quot;模块时预处理文件。因此，loader 类似于其他构建工具中“任务(task)”，并提供了处理前端构建步骤的强大方法。loader 可以将文件从不同的语言（如 TypeScript）转换为 JavaScript，或将内联图像转换为 data URL。loader 甚至允许你直接在 JavaScript 模块中 import CSS 文件！（摘自 webpack 官方中文文档）</p>\n</blockquote>\n<p>由此可见，loader 就像是一个“处理器”，输入特定的内容，处理后进行输出。当必要时，可以把一些合适的 loader 串起来使用，使前一个 loader 的输出变成后一个 loader 的输入，最终得到自己想要的结果。</p>\n<p>对于本文要提到的 markdown-loader 来说，它需要进行的处理就是，将 markdown 文件内容解析并包装成一个与 vue 单文件组件内容相似的，然后传给它后面的 vue-loader, 所以一个最简单的 vue markdown-loader 可以长这德性：</p>\n\x3c!--beforebegin--\x3e<div class="language-js extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">(</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;template>\\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h1>hello world&lt;/h1>\\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/template></span><span class="token template-punctuation string">`</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token keyword">return</span> res\n<span class="token punctuation">}</span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p>当然，这个 loader 看起来有点儿智障，因为不管传给它什么，最后输出来的都一样的玩意儿。但它确实做一个 loader 通常做的事…… 😄</p>\n<p>下面进入正题，要做一个处理 markdown 的 loader 其逻辑要复杂得多，但实质与上面的差不多，首先我们需要安装一些必要的包。</p>\n<h2 id="安装需要的包"><a class="header-anchor" href="#安装需要的包">#</a> 安装需要的包</h2>\n\x3c!--beforebegin--\x3e<div class="language-bash extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D markdown-it markdown-it-anchor markdown-it-container markdown-it-emoji markdown-it-table-of-contents\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<table>\n<thead>\n<tr>\n<th>包名称</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>markdown-it</td>\n<td>渲染 markdown 基本语法</td>\n</tr>\n<tr>\n<td>markdown-it-anchor</td>\n<td>为各级标题添加锚点</td>\n</tr>\n<tr>\n<td>markdown-it-container</td>\n<td>用于创建自定义的块级容器</td>\n</tr>\n<tr>\n<td>markdown-it-emoji</td>\n<td>渲染 emoji</td>\n</tr>\n<tr>\n<td>markdown-it-table-of-contents</td>\n<td>自动生成目录</td>\n</tr>\n<tr>\n<td>highlight.js</td>\n<td>代码高亮</td>\n</tr>\n</tbody>\n</table>\n<h2 id="编写-loader"><a class="header-anchor" href="#编写-loader">#</a> 编写 loader</h2>\n<p>在这个 loader 里，传入的是 markdown 文件的源文件，也就是没作任何解析的内容，我们需要对它进行一些处理，包括解析基本语法、渲染 emoji、添加锚点等处理，并定义一些自定义的块，比较关键的就是，最后要把这些内容包裹到 <code>&lt;template&gt;</code> 标签中，不然接下来处理它们的 vue-loader 处理不了。</p>\n<p>贴上 loader 的代码：</p>\n\x3c!--beforebegin--\x3e<div class="language-js extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'fs\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> hash <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'hash-sum\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> <span class="token constant">LRU</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'lru-cache\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> hljs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'highlight.js\'</span><span class="token punctuation">)</span>\n\n<span class="token comment">// markdown-it 插件</span>\n<span class="token keyword">const</span> emoji <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'markdown-it-emoji\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> anchor <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'markdown-it-anchor\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> toc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'markdown-it-table-of-contents\'</span><span class="token punctuation">)</span>\n\n<span class="token comment">// 自定义块</span>\n<span class="token keyword">const</span> containers <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'./containers\'</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> md <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'markdown-it\'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  html<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  <span class="token comment">// 代码高亮</span>\n  <span class="token function-variable function">highlight</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token operator">&amp;&amp;</span> hljs<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">try</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string">\'&lt;pre class="hljs">&lt;code>\'</span> <span class="token operator">+</span>\n          hljs<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>lang<span class="token punctuation">,</span> str<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">+</span>\n          <span class="token string">\'&lt;/code>&lt;/pre>\'</span>\n      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>__<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token string">\'&lt;pre v-pre class="hljs">&lt;code>\'</span> <span class="token operator">+</span> md<span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">escapeHtml</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">\'&lt;/code>&lt;/pre>\'</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token comment">// 使用 emoji 插件渲染 emoji</span>\n  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>emoji<span class="token punctuation">)</span>\n  <span class="token comment">// 使用 anchor 插件为标题元素添加锚点</span>\n  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>anchor<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    permalink<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    permalinkBefore<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    permalinkSymbol<span class="token operator">:</span> <span class="token string">\'#\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token comment">// 使用 table-of-contents 插件实现自动生成目录</span>\n  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>toc<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    includeLevel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token comment">// 定义自定义的块容器</span>\n  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>containers<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token constant">LRU</span><span class="token punctuation">(</span><span class="token punctuation">{</span> max<span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> isProd <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">\'production\'</span>\n\n  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resourcePath\n  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">hash</span><span class="token punctuation">(</span>file <span class="token operator">+</span> src<span class="token punctuation">)</span>\n  <span class="token keyword">const</span> cached <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>\n\n  <span class="token comment">// 重新模式下构建时使用缓存以提高性能</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>isProd <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\?vue</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resourceQuery<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> cached\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> html <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span>\n\n  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">(</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;template>\\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="content"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>html<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div>\\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>\n    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/template>\\n</span><span class="token template-punctuation string">`</span></span>\n  <span class="token punctuation">)</span>\n  cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> res<span class="token punctuation">)</span>\n  <span class="token keyword">return</span> res\n<span class="token punctuation">}</span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<blockquote>\n<p>以下为上面代码中引用到的 containers.js 中代码</p>\n</blockquote>\n\x3c!--beforebegin--\x3e<div class="language-js extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-js"><code><span class="token keyword">const</span> container <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'markdown-it-container\'</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">md</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  md\n    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">createContainer</span><span class="token punctuation">(</span><span class="token string">\'tip\'</span><span class="token punctuation">,</span> <span class="token string">\'TIP\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">createContainer</span><span class="token punctuation">(</span><span class="token string">\'warning\'</span><span class="token punctuation">,</span> <span class="token string">\'WARNING\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">createContainer</span><span class="token punctuation">(</span><span class="token string">\'danger\'</span><span class="token punctuation">,</span> <span class="token string">\'WARNING\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// explicitly escape Vue syntax</span>\n    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token string">\'v-pre\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">tokens<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=></span> tokens<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>nesting <span class="token operator">===</span> <span class="token number">1</span>\n        <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div v-pre>\\n</span><span class="token template-punctuation string">`</span></span>\n        <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/div>\\n</span><span class="token template-punctuation string">`</span></span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">createContainer</span> <span class="token punctuation">(</span><span class="token parameter">klass<span class="token punctuation">,</span> defaultTitle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">[</span>container<span class="token punctuation">,</span> klass<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">tokens<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> token <span class="token operator">=</span> tokens<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>\n      <span class="token keyword">const</span> info <span class="token operator">=</span> token<span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>klass<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span>nesting <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>klass<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> custom-block">&lt;p class="custom-block-title"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info <span class="token operator">||</span> defaultTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p>\\n</span><span class="token template-punctuation string">`</span></span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/div>\\n</span><span class="token template-punctuation string">`</span></span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<h2 id="使用"><a class="header-anchor" href="#使用">#</a> 使用</h2>\n<p>写好了 loader，就可以在 webpack 里使用了，在配置的  <code>module.rules</code> 数组中加入如下规则：</p>\n\x3c!--beforebegin--\x3e<div class="language-js extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-js"><code><span class="token punctuation">{</span>\n  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.md$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n  use<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token operator">:</span> <span class="token string">\'vue-loader\'</span><span class="token punctuation">,</span> <span class="token comment">// 这里的使用的最新的 v15 版本</span>\n      options<span class="token operator">:</span> <span class="token punctuation">{</span>\n        compilerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n          preserveWhitespace<span class="token operator">:</span> <span class="token boolean">false</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      <span class="token comment">// 这里用到的就是刚写的那个 loader</span>\n      loader<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'./markdownLoader\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p>然后，就可以在自己的组件中引入 markdown 文件了。假如你有一个名叫 something-cool.md 的文件里有下面这样的内容:</p>\n\x3c!--beforebegin--\x3e<div class="language-md extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-md"><code><span class="token title important"><span class="token punctuation">#</span> hello world</span>\n\n[[toc]]\n\n<span class="token title important"><span class="token punctuation">##</span> 二级标题1</span>\n\n有钱就是可以为所欲为！ :+1:\n\n<span class="token title important"><span class="token punctuation">##</span> 二级标题2</span>\n\n但我特么真的没钱 :cry:\n\n<span class="token title important"><span class="token punctuation">##</span> 二级标题3</span>\n\n<span class="token title important"><span class="token punctuation">###</span> 三级标题1</span>\n\n<span class="token title important"><span class="token punctuation">###</span> 三级标题2</span>\n\n:::tip\n友情提示\n:::\n\n:::danger\n卧槽，粗大事了……\n:::\n\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p>在你的 vue 项目中就可以有如下姿势：</p>\n\x3c!--beforebegin--\x3e<div class="language-html extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-markdown</span><span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  components<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string">\'my-markdown\'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">\'./something-cool.ms\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p>结果：</p>\n<p><img src="./markdown-loader.jpg" alt=""></p>\n<blockquote>\n<p>说明：上图的渲染结果，涉及到一些 css 样式，本文就不一一列出了，因为很长……</p>\n</blockquote>\n<h2 id="其它"><a class="header-anchor" href="#其它">#</a> 其它</h2>\n<p>可以看到，写个 loader 其实也是蛮简单的，了解其中原理之后，你甚至可以创建自创格式的文件和扩展名，然后写个 loader 处理/加载这类文件，是不是很骚？！😄</p>\n<p>正如开头提到的，loader 中的代码，借鉴自 vuepress,感谢其开发组人员并尊重其版权，如果大家有兴趣可自己前往查看该项目，<s>本人也并不打算装这个 loader 封装成包并发布，它仅仅是为了自己项目需要折腾的，十分粗陋</s>。现在这个 loader 已经发布到 npm，有需要的同学可以自行安装。</p>\n<p><a href="https://www.npmjs.com/package/@tianyong90/vue-markdown-loader">@tianyong90/vue-markdown-loader</a></p>\n<p>最后，放出自己用到这个 <code>loader</code> 的项目地址，算是广告一波。😄</p>\n<p><a href="https://github.com/tianyong90/we-vue">we-vue GitHub 地址</a></p>\n<p><a href="https://wevue.org">we-vue 在线文档</a></p>\n',attributes:{title:"自己撸个 vue markdown loader",date:"2019-03-10T16:45:23.000Z",top_img:"./top_img.jpg",tags:["vue loader","markdown-loader"],categories:["vue","webpack"]}}}}]);